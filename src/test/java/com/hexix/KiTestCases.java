package com.hexix;

import com.google.genai.types.ContentEmbedding;
import com.hexix.ai.GenerateEmbeddingTextInput;
import com.hexix.ai.OllamaRestClient;
import com.hexix.ai.dto.EmbeddingRequest;
import com.hexix.ai.dto.EmbeddingResponse;
import com.hexix.mastodon.Embedding;
import com.hexix.mastodon.StarredMastodonPosts;
import io.quarkus.hibernate.orm.panache.PanacheEntityBase;
import io.quarkus.test.junit.QuarkusTest;
import jakarta.inject.Inject;
import org.eclipse.microprofile.rest.client.inject.RestClient;
import org.junit.jupiter.api.Test;

import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.stream.Collectors;

@QuarkusTest
public class KiTestCases {


    @Inject
    GenerateEmbeddingTextInput generateEmbeddingTextInput;

    String frage2 = """
            Herzlich Willkommen auf den Social-Media-Kan√§len der Feuerwehr Stuttgart! Wir starten heute auf unseren f√ºnf Social-Media-Kan√§len und freuen uns auf den Austausch mit euch \uD83E\uDD73 \uD83D\uDEA8 Einsatzkommunikation und Einblicke in unseren Alltag
            """;

    String text1 = """
            Viele Menschen sind jeden Tag f√ºr unsere Sicherheit im Einsatz. Ob Polizei, Rettungskr√§fte, Feuerwehren oder Haupt- und Ehrenamtliche beim THW ‚Äì der gesamten Blaulichtfamilie geb√ºhrt gro√üer Dank daf√ºr. Nicht nur heute ist eines wichtig: Wer Einsatzkr√§fte angreift, handelt respektlos und macht sich strafbar. Unsere Einsatzkr√§fte verdienen Respekt ‚Äì an Silvester und an jedem anderen Tag des Jahres.
            """;

    String text2 = """
            Herzlich Willkommen auf den Social-Media-Kan√§len der Feuerwehr Stuttgart! Wir starten heute auf unseren f√ºnf Social-Media-Kan√§len und freuen uns auf den Austausch mit euch \uD83E\uDD73 \uD83D\uDEA8 Einsatzkommunikation - Twitter: www.twitter.com/Feuerwehr_S - mastodon: https://baw√º.social/@Feuerwehr_S \uD83D\uDE92 Einblicke in unseren Alltag - Instagram: www.instagram.com/feuerwehr.stuttgart - Facebook: www.facebook.de/Feuerwehr.Stuttgart 1/2
            """;

    @Inject
    @RestClient
    OllamaRestClient ollamaRestClient;

/*
Kurz & b√ºndig: Die Faustregel
F√ºr die meisten modernen Embedding-Modelle (wie die von OpenAI, Cohere oder Open-Source-Modelle wie all-mpnet-base-v2) ist ein Wert von > 0.7 ein guter Startpunkt f√ºr "empfehlenswerte" oder "sehr √§hnliche" Artikel.

Hier ist eine typische Einteilung, die Sie als Ausgangspunkt verwenden k√∂nnen:

> 0.8 (Sehr hohe √Ñhnlichkeit): üéØ Die Artikel sind thematisch extrem nah an Ihrem pers√∂nlichen Vektor. Oft behandeln sie exakt dasselbe Nischenthema. Ideal f√ºr: "Zeig mir mehr vom Gleichen".

0.7 - 0.8 (Hohe √Ñhnlichkeit): üëç Das ist oft der Sweet Spot. Die Artikel sind klar relevant und thematisch verwandt, aber nicht notwendigerweise identisch. Ideal f√ºr: Eine ausgewogene Empfehlungsliste.

0.6 - 0.7 (M√§√üige √Ñhnlichkeit): ü§î Die Artikel haben eine thematische Verbindung, k√∂nnten aber auch angrenzende Themen behandeln. Ideal f√ºr: "Thematisch verwandte Artikel entdecken" oder "Serendipity".

< 0.6 (Geringe √Ñhnlichkeit): In den meisten F√§llen sind diese Artikel nicht mehr relevant genug f√ºr eine direkte Empfehlung.
 */

    /**
     * Berechnet die korrekte Kosinus-√Ñhnlichkeit zwischen zwei Vektoren.
     *
     * @param vectorA Der erste Vektor.
     * @param vectorB Der zweite Vektor.
     * @return Der √Ñhnlichkeits-Score zwischen -1.0 und 1.0.
     */
    public static double getCosineSimilarity(double[] vectorA, double[] vectorB) {
        double dotProduct = 0.0;
        double normA = 0.0;
        double normB = 0.0;

        // Berechne Skalarprodukt und die Summe der Quadrate f√ºr die Normen
        for (int i = 0; i < vectorA.length; i++) {
            dotProduct += vectorA[i] * vectorB[i];
            normA += Math.pow(vectorA[i], 2);
            normB += Math.pow(vectorB[i], 2);
        }

        // Die finale Division: Skalarprodukt / (L√§nge von A * L√§nge von B)
        // Math.sqrt() berechnet die Quadratwurzel, also die L√§nge.
        return dotProduct / (Math.sqrt(normA) * Math.sqrt(normB));
    }

    @Test
    public void testEmbeddings() {

        final List<Embedding> embeddings = Embedding.<Embedding>findAll().list();
        final List<double[]> vectors = embeddings.stream().map(Embedding::getLocalEmbedding).filter(Objects::nonNull).toList();


        final double[] profileVector = StarredMastodonPosts.createProfileVector(vectors);


        String frage = "Feuerwehr Einsatzalltag und mehr! Hier auf Mastodon";


        double[] frageArray = new double[]{0.0013352832, -0.004874728, -0.017064817, 0.044495072, 0.038772263, -0.053917028, 0.02075453, 0.055851717, 0.0142617645, -0.030675964, -0.017104365, 0.033885203, 0.034790523, 0.011536497, 0.0015749414, 0.014608994, 0.035848588, -0.020303583, -0.016397309, 0.016772646, -0.022342147, -0.004781476, -0.07203704, -0.002629297, -0.0381277, -0.0041996944, 0.010076981, 0.013055143, -0.012233388, 0.01561441, 0.030051839, 0.04981009, 0.075154595, 0.005653169, 0.00199198, 0.010166927, -0.036548212, 0.05255254, -0.054060344, -0.0120640565, -0.028031887, 0.07867377, 0.019640006, 0.095611066, -0.010534424, 0.075236075, -0.038365405, 0.0013829896, 0.03361204, 0.024055501, -0.01013635, 0.064233586, 0.017040377, 0.034226716, -0.006453323, 0.027428012, -0.03393406, 0.03638152, -0.01755368, 0.04502435, -0.02892028, -0.024613826, 0.017935283, 8.217253E-4, 0.016962228, 0.01048687, 0.007368294, -0.009072195, 0.077366784, -0.057220906, -0.02042281, -0.061004695, 0.0372669, 0.07052803, -0.046334736, 0.005529232, -0.032658935, 0.0324955, -0.020265456, -0.020048222, 0.038682055, 0.028334143, -0.009613283, 0.042616747, 0.044418756, -0.0020760573, -0.0018066961, 0.04011894, 0.05554974, 0.039146375, 0.013232485, 0.008026364, -0.030534137, -0.0050903447, -0.04665949, 0.016478276, -0.031733338, 0.059469584, 0.010214029, -0.027415266, -0.0040898374, -0.016593004, -0.003150455, -0.041214164, -0.029940993, 0.04786042, 0.020364005, -0.025334045, 0.010141123, -0.0049884054, 0.033100016, -0.022100944, 0.0021163889, 0.060678147, 0.031928636, -0.016668333, 0.05146678, -0.050428048, -0.0051514925, 0.03284707, 0.005315501, 0.035694886, 0.018531732, 0.00896517, 0.05041864, 0.014456682, -0.0014240402, -0.01909532, 0.037670754, 0.016846756, -0.061645485, -0.008310072, -0.020936983, -0.0027154437, -0.053248305, -0.051751386, -0.018886253, 0.03391016, 0.008729086, 0.0039106724, 0.067856364, -0.070154555, 0.005694879, 0.025827466, -0.032659918, -0.011850648, -0.019765403, 0.02726858, 0.046355315, -4.7835818E-4, 0.015474969, -0.04335359, 0.025232846, 0.026758993, -0.06126364, 0.029802017, -0.027966743, 0.03625112, 0.0030564817, 0.027208967, -2.6696167E-4, 0.0010102347, 0.03919586, -4.9576355E-4, 0.037209444, -0.0435099, 0.014666625, -0.011517278, 0.07225523, 0.008181836, -0.021189438, 0.04130305, -0.030403953, 0.0035108153, -0.007294324, 0.037015293, 0.04403007, 0.072890304, -0.049171157, -0.024044797, 0.036825027, 0.0023844328, -0.08172913, 0.045787837, 0.011129535, 0.053253405, 0.0319417, -0.048373997, 0.034601834, -0.03480301, 0.05668574, -0.024492413, 0.020228734, 0.11172449, 0.029168041, -0.05265103, 0.034162804, 0.009623169, -0.06453479, -0.014806927, 0.032436825, 0.017648444, 0.0217617, -0.012205835, -0.03136938, -0.024898747, -0.025139682, 0.012898168, -0.031639256, 0.041401874, 0.005339913, 0.034079935, 0.02346369, 0.0024112673, 0.022638557, 0.01594536, 0.09489009, -4.150731E-5, 0.03268678, -0.048865322, 0.06732922, 0.03383899, 0.03105774, -0.0028999408, 0.04825773, 0.007959744, 0.020828065, 0.04067623, 0.01994622, -0.014390242, 0.06745351, 0.013345004, -0.037523646, -0.03090442, 0.041588902, -0.041385215, 0.04220596, 0.04508483, -0.012885626, -0.027588446, -0.039189506, 0.023668839, -0.0010487577, 0.04618212, 0.013209866, 0.04974347, 0.009275742, -0.024401527, -0.0024926404, -0.04930067, 0.012264752, 0.040152106, 0.008652631, 0.043052923, 0.02819575, -0.007943277, 0.006034412, -0.03203031, 0.049890175, 0.066755675, 0.038769312, 0.036802668, 0.0059763542, -0.011974998, 0.019974448, 0.0049074083, -0.018155782, -0.03100785, -0.025670025, -0.0052479743, 0.08454094, 0.016421687, -0.055250555, 0.03142331, 0.02502455, -0.025047952, -0.04492724, 0.02189089, 0.04323096, 0.025218248, -0.04681673, -0.048076235, -0.013933217, 0.0263805, -0.0023827318, -9.802214E-4, 0.018156225, 0.017096441, 0.033589914, 0.009719103, -0.005333096, 0.0040894207, 0.018802794, -0.029431125, 0.056496408, 0.010375552, -0.0034673938, 0.01082934, 0.04325281, -0.022171015, 0.027860403, 0.041830815, -0.010545578, -0.014527772, 0.038449876, 0.045912143, -0.090182066, 0.044573046, 0.01661225, 0.017585067, 0.04550766, 0.047094814, 0.0020016097, -0.036054097, -2.3282466E-4, 0.02882196, -0.060114324, -0.052037314, -0.030125033, 0.061154403, -0.005292827, -0.020372674, 0.012818349, -0.05888781, 0.0052057733, -0.068003885, -0.01126367, 0.023244346, 0.037598606, -0.06416775, 0.002571438, -0.008789615, -0.05952994, -0.009919443, 0.022925263, 0.00126574, 0.0019990595, 0.05025822, -0.023492638, 0.024091095, 0.020229498, 0.033679202, 0.018236902, -0.0028789558, -0.007379209, 0.030382788, -0.036537904, 0.0067276857, 0.07488747, 0.025923416, 0.055777043, -0.0032256555, 0.003640935, 0.012270917, 0.09269337, -0.032303974, 0.05620344, -0.034582026, -0.010157912, 0.033849414, 0.035091504, 0.01491399, -0.03548108, -0.017024154, 0.03372983, 0.008231365, 0.037678808, -0.04171079, -0.030486539, -0.021708127, 0.046784345, 0.060392257, -0.05195816, 0.022443084, -0.018962976, -0.019826613, 0.0551661, 0.01629052, 0.063174285, -0.047358017, -0.013912124, 0.05186451, 0.029287241, -0.0913475, 0.014152676, -0.03181685, 0.03555654, 0.009596292, -0.0032927343, -0.021609703, 0.034646437, 0.027639119, -0.02678704, 3.5066507E-4, 0.020170895, 0.05215394, -0.05149717, 0.03557047, 0.0071115172, 0.044681516, 0.04427063, -0.006996211, 0.018905556, 0.018430457, 0.008360114, -0.030421322, -0.0045468174, -0.06127254, -0.069233745, 0.009591473, 0.009358573, 0.037832983, 0.009998754, -0.023102976, -0.030982131, -0.0079588555, -0.024778258, -0.01396091, 0.073196314, 0.02175912, 0.012945334, -0.039292354, 0.027288737, -0.0073981355, -0.047900833, 0.031195045, 0.023737727, -0.01077766, 0.015278, 0.054993954, 0.0029538828, 0.032040685, 0.027085062, 0.037638064, 0.0056832875, 0.020597132, 0.056443088, 0.031320672, 0.002401208, 0.007955957, -0.040867217, 0.04134716, 0.045065995, 0.020916773, 0.021324325, -0.044999108, -0.016796332, -0.010697562, 0.03950292, -0.01641776, 0.0062261745, -0.03257031, 0.023597967, -3.991222E-4, 0.037269603, 0.09062608, 0.086031176, 0.045611393, 0.030479051, -0.014884874, 0.026890682, 0.04206489, 0.025584605, 0.057408866, 0.027758202, 0.02532477, -0.020499391, 0.010496602, 0.04605876, 0.07039253, 0.027170826, 0.015084962, 0.024728559, 0.005381084, 0.004173112, 0.033170246, 0.02043989, -0.10643024, 0.023611076, -0.024638362, -0.025324076, -0.012360309, -0.023807826, -0.0025497228, 0.026345132, 0.020044558, 0.047712907, 0.008161701, 0.010112952, 0.004634628, 0.055442717, -0.01431214, 0.0327105, 0.030526932, -0.014293016, 0.02717255, -0.021948164, -0.103585094, -0.015352642, -0.0047880714, -0.012874032, -0.0049629984, -0.040280897, 0.026620755, 0.028785324, -0.03101057, 0.045696385, 0.0017820123, 0.048654135, 0.004507307, -0.06830905, -0.027494876, 0.039606106, 0.01140542, -0.014575759, 0.042058744, -0.0018233248, -0.014539144, 0.047277, 0.07306054, 0.02893672, 0.016317878, 0.009425579, -0.016950708, 0.020681163, 0.0015422689, -0.005488442, 0.01960515, 0.04957426, -0.039487496, 0.015328262, -0.053965162, 0.01589277, 0.041345913, 0.093762495, 0.123910844, 0.06673463, -0.009598309, 0.06322035, 0.02781062, -0.017374154, -0.041925017, 0.013895153, 0.05416317, -0.0020343987, -0.015141906, 0.012446423, 1.0511497E-4, -0.01902356, -0.019776866, -0.02800046, 0.042026654, -0.042278178, 0.006575808, 0.0057528378, -0.010749291, -0.029497689, 0.005491886, -0.0025273457, -0.019666161, -0.013843132, 0.012398175, 0.026769063, -0.03727627, 0.072646596, -0.00836554, -0.0018681216, 0.03692471, -0.014776398, -0.024684502, -0.043508388, -0.018897776, 0.006786916, 0.07189088, 9.2701364E-4, -0.0058694608, 0.04289489, 0.0041564596, 0.011796476, 0.023892649, 0.0037959118, -0.011510439, 0.021486398, 0.03264191, -7.8379764E-4, 0.016018255, -0.021283686, -0.016733075, -0.0067192446, -0.038007718, 0.081782706, 0.040634047, -0.047614288, 0.0077152047, -0.040356982, 0.047391962, 0.03497598, -0.025919352, 0.03933234, 0.028466485, -0.001076217, 0.039501265, 0.06420464, 0.017225875, -0.011024889, 0.015070848, -0.01274342, -0.010505394, -0.023801576, -0.059257243, -0.049639165, 0.022688905, 0.01443452, 0.033113215, 0.013212069, 0.044667765, 0.048436273, 0.057149336, 0.024408245, 0.01925313, 0.004973542, 0.050156675, 0.055115707, 6.820185E-4, -0.040381122, -0.021327019, -0.0058036135, 0.11147496, 0.0012358172, 0.009106961, 0.056434106, -0.0331179, -0.038148507, 0.00196589, 0.009325172, 0.041364275, 0.00462002, -0.0081641935, -0.086082265, 0.004871377, 0.022289481, -0.0030152013, 0.046004247, 0.04859094, 0.084147625, 0.03131519, 0.022541124, 0.031918626, -0.023708358, 0.003179197, -0.01784517, -0.06151041, 0.07916716, -0.016825361, 0.058897614, -0.009433577, -0.02465056, 0.011090459, 0.056730825, -0.020199427, 0.023160188, -0.007987217, 0.050403874, 0.04595024, 0.05843943, -0.0056087, -0.015445427, 0.06299806, -0.02129845, 0.004179644, 0.010331875, 0.019126061, -0.011440131, -0.0043371543, 0.011150255, 0.015900237, 0.037880216, 0.03866076, 0.038563248, 0.072742395, 0.038975883, 0.008314802, -0.040244453, 0.047573823, 0.028126044, 3.8857767E-4, 0.0060902243, 0.0027180347, 0.049213428, 0.03209459, 0.012712922, -0.027650276, 0.017435875, -0.034779184, 0.0058749104, 0.08026347, 0.035927, 0.022222452, 0.02275785, 0.013069053, -0.019807817, 0.029642297, 0.08557629, -0.040290833, -0.031537436, -0.038374346, -0.022306569, 0.04519401, -0.0037268582, 0.012517356, -0.05127158, -0.0037195387, 0.015472475, 0.045599293, 0.014053826, 0.03768198, -0.015081509, 0.027318262, 0.06793045, -0.0019697545, 0.06461277, 0.011946919, -0.04965729, 0.029489828, 6.527902E-4, -0.0018183619, -0.031122327, -0.034563646, 0.017502189, 0.06775647, 0.056052502, -0.019036992, 0.0069282735, 0.026222158, -0.05735205, 0.01189779, 0.01318165, -0.01671209, -0.026499351, -0.0760483, -0.017183455, -0.059593707, 0.0018769444, -0.0024998947, 0.019108439, 0.038508404, 0.023615424, -0.033683997, 0.025927449, -0.028262837, 0.002997458, -0.053166214, 0.044693585, 0.0028258807, 0.08665039, 0.01186722, 0.025386617, 0.070223704, 0.0062186103, -0.057494856, 0.060792003, 0.0057809316, 0.029602673, 0.024218416, -0.029009242, 0.06407074, 0.053997174, -0.021826731};


        final double cosineSimilarity = getCosineSimilarity(profileVector, frageArray);

        System.out.println("Cosine Similarity: " + cosineSimilarity);


    }

    @Test
    public void testCosineSimilarity() {


        double[] vector1 = new double[]{0.028669464728822397, -0.00724720392031137, -0.038149757316448166, 0.06337589555825743, 2.844379176244316E-4, -0.040756457928101834, 0.05241714019089308, 0.0213735088157741, 0.047953932855821835, 0.013172864037506372, 0.02465138632743582, 0.0417036837869841, 0.07487993284438565, -0.004820881581784936, -0.00651243562977717, 0.02812335181018231, 0.016809537495714667, 0.009933042520175066, 0.010429881446155989, 0.03399383893559699, -0.020507822944744004, 0.03907810717814257, -0.06995782957768072, 0.014320119866588168, 0.00287708407137194, -0.030041421524428236, -0.01220226118210681, -0.006551856623904229, -0.03853252425942353, 0.03125350834385151, 0.012141737191123677, 0.043353683541167094, 0.0055175745779915955, 0.019249025132279735, 0.01249641363828397, -0.012663964113322296, -0.027877568846799063, 0.038896314205226094, -0.051959074259135755, 5.726786146823251E-4, -0.02638057806982079, 0.09577769073103715, 0.015659059667112885, 0.0561487316349605, -0.0029579401593259978, 0.03969203108668017, -0.04395958845089936, 0.03009271951678586, 0.023269072533372966, 0.01994054502925708, -0.0815812878460176, 0.055874001675889774, 0.03339858502427793, -0.017503832392278592, 0.008289562765020722, -0.002203167671772023, -0.012991356064547434, 0.03182829525821974, -0.06126599587259034, 0.021678723770303165, -0.013420591000600002, -0.014213755882434278, 0.010265658470621932, -0.016750517504507467, -0.03435825088130688, -0.027622982884727292, 0.05734714345642107, 0.03727683244649653, 0.06899128972167587, -0.057962189364791514, -0.015417391703116581, 0.011268370321237895, 0.04275074663099265, 0.06919177969180686, -0.04380167347442555, 0.002265199462530525, -0.0126962221085165, 0.002196471772769578, 0.010951591368431633, 0.011880251230079863, -0.005649115158394676, 0.05535797675276718, 0.017825675344330424, 0.05217000222771171, -0.0226661156232015, -0.015443093699287497, -0.00680308298647652, 0.04735440094514011, 0.04115514386870559, 0.02687248899653589, 0.05328736206124741, -0.004043234797638774, 0.002481369130325562, 0.01027024446993871, 0.01979366205113971, 0.014152570391549693, -0.01365269696602085, 0.03961433609825517, -0.007632646862888071, -0.04085673191316301, 0.03025831949211477, -0.004524297325970067, 0.02045602795246042, 0.004833653779882134, -0.005278642013587775, 0.03405328692674042, 0.0034694412831225473, -0.02701345997553403, 0.03798049134166541, 0.004899594670058258, 0.03652825455801968, 0.00474517859306317, 0.0099213595219156, 0.04588895716346196, 0.011786214244089495, -0.016783469499598278, 0.04471317033863072, -0.04729525295395198, 0.010180069483372984, 0.06758501993118197, 0.05921244817852793, 0.021959904728412822, 0.052117362235554014, -0.021443084805408665, 0.010455445442347465, -0.0050728565442456994, 0.020078980008633035, 0.002000159102016245, 0.03919844816021417, 0.011542586280385195, 0.017090607453840855, -0.10476576439199368, -0.03380497496373395, 0.04395518945155473, -0.06566166021772415, -0.03820824030773536, -0.046000043146912376, -0.0011267241321406094, 0.05229174220957488, 0.004770388589307384, 0.06337307055867829, -0.05662891956342209, 0.011985767214360088, 0.062389747705173755, 0.0027589930889651377, -0.01976383705558304, -0.062318572715777405, 0.023357866520144436, 0.007534643877488559, 0.041474898821068494, -0.019970272024828352, -0.031075433370381125, 0.025376886219350827, 0.05597743666048002, -0.018041217312218975, 0.03438887987674378, 0.00977922254309117, 0.03722105745480589, -0.027866105848506822, 0.04603328314196027, 0.004561124620483535, -0.0017315562420327057, 0.032924398094922314, 0.01950950109347402, -0.01708027745537982, 0.051843859276300495, 0.03213084721314555, -0.00917182763358088, 0.005545431873841415, 0.0015878324634446782, -0.0322361951974508, 0.03847880826742614, -0.01813170229873852, -0.03758180740106135, -0.016535940536475148, 0.016346627564679, 0.07887629824900703, 0.02928086163773647, -0.052317092205798235, -0.012299883167563084, 0.033718487976618784, 0.001553107568617994, -0.06974453960945667, 0.01942999410531897, 0.009803494539475127, 0.032310535186375625, 0.010163121485897895, -0.0760233736740358, 0.016999361467434686, -0.009818626537220761, 0.053816768982376355, 0.012534247132647535, 0.015382178708362615, 0.07711419851152469, 0.027524321899425802, -0.02364545847729898, -0.028378010772243212, -0.05277802213712888, -0.07419528494638451, -0.012344704160885652, 0.03236025117896893, 0.0375896483998932, 0.050160638527066766, 0.011027044357190645, 0.03191117124587287, -0.005759115142006875, 0.025315225228537085, 0.0409164239042701, -0.024963726280903407, 0.03295406909050193, -0.014366202859722723, 0.05546539173676449, 0.040566823956353505, 0.02692248298908778, -0.03281085511183795, 0.010010049508702564, 0.09014321657046125, 0.04577022318115096, 0.009893554526057988, -0.017864461338552084, 0.03167790028062559, 0.011452623293787881, 0.061089710898853275, -0.04989767456624314, 0.02810199581336393, 0.022225146688897066, -0.007446185890667032, 0.0017141332446283845, 0.06306870060402334, 0.00835879575470639, 0.058768047244734785, 0.013257829024848285, 0.016088397603150104, -0.021783957754625407, -0.022341015671634903, -0.06258109067666748, 0.061021758908976764, 0.016255521578251973, 0.001853547023858516, -0.015369960710182852, -0.02503786426985833, 0.017218665434762772, -0.00906116965006671, -0.009997237510611295, 0.008747508696795926, 0.00594595781417105, -0.01791928233038485, -0.032889835100071506, 0.07249930919905102, -0.04578297617925101, 0.030706695425315716, 0.04565422719843204, 0.029730330570774576, -0.01888597118636752, 0.08613452716767589, -0.006527149027585167, 0.012061138203131316, -0.0028156303805273123, 0.03135315932900551, 0.03446720786507447, 0.06370899050863293, -0.03922258115661884, 0.005075449243859439, 0.0016054306608228983, -0.027243240941301254, -0.0021401798811559454, -0.015666702665974228, -0.029265943639958953, -0.05414121193404083, 0.0351111127691455, 0.06932957967127741, 0.06007211905045414, -0.04029646399663174, 0.042680023641528966, 0.014462833845326636, -0.0013719907956007754, -0.025330226226302235, 0.020353459967741003, -0.010848651383767633, 0.0307906034128151, -0.040216030008614796, -0.04639051508873985, -0.009782462542608474, 0.017854572340025347, -0.0385206322611952, 0.053757085991267925, 0.001759733137834911, 0.030433186466063085, 0.05074774243960001, 0.0072815039152013565, 0.03566330168688038, 0.018659602220091973, 0.0380188643359486, -0.03643642957169978, 0.06293195062439635, 0.01672484850833163, -0.06410265044998546, 0.03846163126998517, 0.02491443228824723, -0.04482027632267407, -0.018079017306587532, 0.008109474791850233, 0.045733253186658746, -0.06916851969527214, 0.0277302038687535, 0.07014125955035333, -0.047742295887351516, 0.0487555747363932, 0.05022815251700853, -0.021702008766834167, 0.0214141498097194, 0.014930537775648093, 0.025421431212714514, 0.04816244982475697, -0.06053985098077142, 0.029007501678461643, -0.018850281191684616, -0.004611243713016791, -0.022775346606928266, 0.06899418972124383, -0.014191634885729864, 0.0065558240233131665, 0.032452025165296446, -0.024726445316253533, -0.014222929881067535, -0.021767650757054825, -0.04393164945506172, 0.03656438955263629, 0.043898005460074004, -0.023827309450206814, -0.01835742726511001, 0.018841770192952585, -0.03763257139349853, -0.04402551344107786, 0.019197101140015372, 0.005090749241580045, -0.012692927109007388, 0.05484077182982038, -0.0664313261030593, 0.03111346536471512, 0.030143086509282185, -0.00957005657425272, 0.05117445837602786, 0.057070671497609866, 0.035098327771050215, 0.04693079800824849, -0.012209268181062907, 0.016024801612624637, 0.035441087719985824, -0.014705196809219397, 0.05544298774010224, 0.030515355453821547, -0.005962562111697341, 0.008596681719266135, 0.02454643334307172, 0.00517287222934536, 0.07380426900463807, -2.0249050983295856E-4, 0.027664113878599593, 0.012623961119281943, 0.04512694927698592, 0.02172306276369754, -0.00332751210426716, 0.08031786803424192, 0.039882632058284434, 0.038402548278787356, -0.021888101739110034, -0.06307754060270634, 0.010778146394271469, -0.02983151255570048, -0.01294047907212709, 0.05401069995348451, -0.011194940832177423, -0.012727250103893946, -0.044926033306918384, 0.017453797399732806, 0.0642210204323507, -1.7649365370597087E-4, 0.03652917055788321, -0.08532005728901564, 0.0028449578761581013, 0.013165452038610612, 0.06787610488781612, -0.04317031356848556, -0.012738575102206749, -0.017850230340672218, 0.012626555118895488, -0.016442193550441575, -0.05492585181714516, -0.01504389875875957, 0.03170544927652134, 0.017836462342723375, -0.03722723445388564, 0.03548229671384651, 0.04764719690151936, 0.08284927765711246, -0.03196077323848317, 0.0469657630030394, 0.018134010298394673, -0.012395813153271432, 0.047908239862629175, -0.006132282786412351, 0.04917908867329809, -0.00882381768542741, -0.02667097202655789, -0.04293578360342584, -0.028320898780751762, -0.052554234170468825, -0.03453761185458568, 0.0349310147959765, 0.02409945240966295, 0.05529629176195701, 0.001841682225626134, -0.01026193047117733, -0.0031400845321901245, 0.033966444939678146, -0.023577822487375392, -0.005419335892627198, 0.07137317936682187, 0.012364561657927282, 0.020062425011099397, 0.010096264495858251, -0.013395188004384542, 0.028567577744001524, -0.04783583287341637, -0.009748521547665005, 0.030626059437328868, 0.022954606580222112, 0.014338350863872114, 0.07677673856179949, -0.055946036665157996, 0.054527274876525166, 0.008983960661569305, 0.04793170285913366, 0.01938346311225116, 0.001708950445400518, 0.04699577099856881, 0.00395179941126082, 0.03654401955567101, 0.021213186839658872, 0.033090989070103584, 0.011878582230328508, 0.05433561190507912, -0.026036503121081085, -0.004447149337463576, -0.021223347838145088, 0.03325787804524046, -0.023273786532670673, -0.002355823649029331, -0.032156205209367704, -4.316547056920707E-4, -0.06820483983884118, -0.001987797703857846, 8.086883795215841E-4, 0.035215244753631914, 0.09469887589175899, 0.08072146297411434, 0.051390405343856076, 0.03491890479778065, -0.01614194159517312, 0.04414500042327669, 0.04536867624097343, 0.011727976252765792, 0.01753815338716545, 0.0023969741428987294, 0.02733934292698398, -0.04410962342854715, -0.007365356902708936, 0.05431035490884191, 0.05210923023676552, 0.04513736927543355, -0.03140105932186936, 0.03499287178676105, 0.023364376519174578, -5.28739161228426E-4, 0.007660202858782779, 0.002945500661179235, -0.05730882946212909, -0.01923818013389542, -0.06912477970178853, 0.024957349281853454, -0.003000231953025365, -0.027804139857738518, 0.010934310371006156, -0.02315638755016078, 0.025376849219356342, 0.022545214641213333, 0.04702039099490092, 0.04557059021089228, 0.022761313609018903, 0.029415742617641898, -0.03461104884364504, 0.04576655918169682, 0.012315080165299036, 0.0018487967245662156, 0.029704691574594273, 0.006441523340341685, -0.107875393928721, -0.0024796762305777705, -2.3089863560071526E-4, -0.0017054399459235123, -0.06172072380484496, -0.018216288286136896, 0.05509876179138503, 0.033572638998347365, -0.03897562019341109, 0.009685331557079053, 0.008869290678652844, 0.0393328941401844, 0.007738963847048965, -0.01352232298544397, -0.023626622480105167, 0.028228649794495016, -7.166304932363704E-4, 0.014025819910432984, 0.05950205613538213, -0.017414345405610366, -0.02414490340289166, -0.0054045925948236545, 0.02297706357687647, -0.006935416666761444, 0.030106877514676604, -0.09701094054730754, -0.04843827278366486, 0.07068131946989518, 0.008455832740249818, 0.04002905003647108, 0.0529343591138378, -0.002311494355633511, 0.00726774191725162, -0.0026682073024904066, -0.017553787384836296, 0.050269216510890814, 0.007130156637749078, 0.017326432418707648, 0.11636741266357982, 0.03321689205134656, 0.010225680476577856, 0.02323971853774613, -3.541030472457188E-4, -0.0050699698446757605, -0.010036185504808821, -0.005415059793264251, 0.008887745675903417, 0.0015631806671173034, -0.008449496741193755, 0.0011949290219794432, 0.01405948840541705, -0.01908191415717593, -0.0040457743972604245, -0.023114500556401105, 0.04605219613914262, 0.0075092890812659165, -0.011710786255326757, 0.006747656994733885, -0.00475091459220862, 0.03759502039909288, -0.026608230035905196, 3.6167307611793565E-4, -0.030992097382796523, -0.026254451088611193, -0.03805176433104716, 0.029343745628368008, -0.016439446550850823, 0.051739472291852065, 0.03592543864782721, 0.006687807003650338, 0.0035632714691437237, -0.025633966181051047, -0.03981162806886261, -0.014643773818370195, -0.021413132809870915, 0.014807571793967569, 0.08653073710864853, -0.012477540141095743, 0.01177908674515135, -0.005237358819738146, 0.019735883059747626, 0.042625815649604874, 0.015061538256131638, 0.04286393961412916, 0.03475398082235103, -0.00511633223776869, 0.03420559190405002, -0.0048613219757601255, -0.0014293955870486083, -0.030993965382518227, 2.114406684995637E-5, -0.011759971247999176, -0.03163738528666152, 0.03552773470707716, 0.011464785291975988, -0.04508971128253364, 0.022065326712707053, -0.028025643824738853, 0.04991840956315404, 0.005612617163832149, 0.0020743944909566545, -0.01704988345990792, -0.023921668436149214, 0.015600836675786945, 0.03825836430026789, 0.07612496865890017, 0.0011762204247666504, 9.998001510497475E-4, 0.0020110695003908133, -0.03408710892170162, -0.06000158806096184, 0.011050145353749057, -0.04291775360611195, -0.03900360118924248, 0.05288180712166699, 0.028364143774309118, 0.008351221755834765, 0.008072679797331953, 0.05383299597995885, 0.09904579524415484, -0.029763122565889224, -0.007547109875631374, 0.04228239670076744, 0.02834156277767324, 0.008030022803686993, 0.06127175887173176, 0.006082169093878289, -0.06352660053580539, 0.001421349388247331, 0.011478919289870304, 0.05994722106906144, 0.043066830583902455, -0.037061302478606194, 0.01390533492838284, 0.005172704229370388, -0.06539625025726493, 0.020042724014034452, -0.004249928366845562, 0.028624124735577152, 0.012467190642637613, 0.0016820153494133093, -0.11472989290753756, 0.022903806587790298, -0.013166195038499919, -0.029089014666317838, 0.004367131049384702, 0.03713296946792924, 0.04966859860037088, 0.023912534437509996, 0.053327992055194354, 0.0345181098574911, -0.02867096972859818, 0.017123409448954015, 0.012094170198210208, -0.030183066503325962, 0.048940256708879276, -0.08075800796866986, 0.0625257246849159, -0.03006578552079849, -0.023584779486338938, -0.01261533012056779, 0.011952003219390248, 0.0024580924337933253, -0.0016940544476197242, -0.03212132921456354, 0.06026089802232984, 0.05806384834964636, 0.023828443450037873, -0.05007066954047035, -0.007729885448401464, 0.05107831239035169, -0.022327876673592352, -0.019215929137210378, 0.01043000944613692, 0.02175774475853062, 0.015373959709587081, 0.022980712576332843, 0.05276633713886972, 0.02193058173278136, 0.044616551353025016, 0.04813611582868021, 0.010971587365452628, 0.07290804913815693, 0.01673058150747753, 0.023295696529406523, -0.03469595483099574, 0.0564194215946331, 0.026562202042762446, 0.026685816024346432, 0.023440638507813066, -0.0037127287468775743, 0.03988355405814707, 0.06278361064649604, 0.04043047597666663, -0.02086518189150466, 0.02749694290350473, 0.0016855922488804229, 0.006480610034518548, 0.06350991053829187, 0.04851413577236279, -0.005380386198429924, -0.00247941103061728, 2.6857117998825856E-4, -0.03773642437802651, 0.036821590514318485, 0.06475856035226799, -0.017559181384032698, -0.04231447869598786, -0.04993056256134349, 0.023877736442694204, 0.02186616974237746, -0.006122152387921577, -0.001150972928528023, -0.03496225779132192, 0.0036164027612282223, 0.022746844611174495, 0.0022963670578871756, -0.005829109831579065, 0.007699354352949988, 0.0133804165065852, 0.029798898560559315, 0.06535266026375897, 0.013761788449768397, 0.07431077892917821, -0.0026842154001055197, -0.001611425659929763, -0.005642359159401185, 0.0019879743038315367, 0.008875981677656018, -0.041534629812169765, -0.0173212434194807, 0.03102014537861793, 0.03050722145503335, 0.024232659389817772, -0.0343919908762803, 0.008158983784474383, 0.006034415100992681, -0.06179264379413032, 0.025767557161148664, 0.07428956393233882, 0.007210355925800986, -0.010082400497923711, -0.01318064603634701, 0.008097798793589725, -0.07900860822929548, 0.05143323533747526, 0.014882030782874665, -0.011251167323800798, 0.02691326399046123, -0.0016600214526899606, -0.04138179383493928, -0.01040032445055939, -0.06017314903540268, 0.020209694989159116, -0.055114801788995395, 0.06363509051964256, 0.01616926459110254, 0.06387638048369518, 0.028602925738735376, 0.023614470481915572, 0.05261380916159334, 0.01496953376983847, -0.02788432784579211, 0.037776967371986415, -0.0077786531411360525, 0.07571170872046766, 0.045155003272806436, -0.044408193384066194, 0.0419397107518208, -0.005426328791585395, 0.01493316177525717};


        double[] vector2 = new double[]{0.01116271551017337, 9.342192263879739E-4, 0.011485411553830038, 0.06990545945731916, 0.05251516010463294, -0.0617090843484539, 0.046207363251268285, 0.06669487902296849, 0.030346234105459335, 0.022178826000512946, 0.01094775848109242, 0.03189627431516005, 0.019212472599203074, 0.00760503732886478, -0.017538831372780714, 0.06949335540156672, 0.04798460649170669, -0.016773854269289044, -0.0013881177877946736, 0.014574402971731272, -0.016729234263252526, -0.004115808856816567, -0.05052081083482286, -0.013261464794107442, 0.034177967623844126, -0.021434125899764497, 0.0026267227553621653, 0.025089300394263096, -0.03514497875466843, -0.002648421258297697, 0.04882904060594787, 0.06057799819543234, 0.04765124144660664, -0.002925108095729905, 0.014140538913034986, 0.004581832619863653, -0.010734988452307342, 0.04172665864508597, -0.01309667277181318, -0.023034703116302232, -0.039077261286656215, 0.07746734048034544, 0.04594596021590378, 0.03986535039327465, 0.011797058095991849, 0.062144895407413595, -0.029148181943378124, 9.434198876327064E-4, 0.017115414315497773, 0.016594853245072486, -0.06806664320855071, 0.04278455578820599, 0.02729120869215327, -0.0054471644369320366, 0.025012582383884128, 0.039933768402530725, -0.0021827761953018446, 0.07817683657633125, -0.06254349846133951, 0.045367463137640486, -0.017649204387712777, -0.030889940179015852, -0.0015868320146781802, -0.028957731917612656, -0.014084264905421827, 0.014976407026117305, 0.04482829606469804, -0.016582172243356907, 0.06115462327344238, -0.019074176580493384, -0.039826465388014, -0.016721498262205942, 0.07033327951519777, 0.06051135818641679, -0.04900842663021652, -0.006264154247460362, -0.038038885146177134, 0.03490343472199059, -0.02227191001310603, -0.03085049617367958, -0.03500891473626069, 0.038422977198139904, -0.005622756060687349, 0.01307409526875873, 0.05999937311715173, -0.020352658753455755, 0.04566273317758677, 0.013933964885088149, 0.01956812964731895, -5.651422164565508E-4, 0.050016816766638876, 0.02852456885901121, -0.024273479283892882, -0.0025065367391025263, 0.016182302189259576, 0.02662696660228977, -0.005610619759045462, 0.04424567398587669, 0.056482769641400025, -0.03375828456706635, 0.01715309232059513, 0.02374079821182791, 0.011591239568147222, -0.05457322738306325, 0.010973521484577826, 0.07699576041654665, 0.02269253807001165, -0.02268233806863172, 0.004923065366028101, 3.2733600428439625E-4, 0.018161062456960662, 0.00403141424539905, 0.00768601063981944, 0.037734725105028157, 0.01847240049908074, 0.0012804353732266132, 0.0319160673178378, -0.04450837602141693, -0.027633929738519067, 0.036913391993912234, 0.033339504510410733, 0.04856376657005967, 0.034563739676034176, -1.581037713894285E-4, 0.05448468037108397, -0.022451145037354247, 0.011757175590596254, 0.01947720463501795, 0.02826009882323178, 0.009023567220773826, -0.03702594800913963, -0.04627263426009863, -0.0290152949254002, 0.010321136396318424, -0.023881377230846462, -0.026974476649303455, -0.006115013127283467, -0.014235352925862114, -0.008810756191983201, -0.025528855453729304, 0.04594323621553526, -0.06377550362801414, -0.023048044118107094, 0.05528843447982167, 0.01459672597475129, 0.036062781878835506, -0.06673401902826362, -0.008305386123613062, 0.029712007019656483, 0.014723062991843082, 0.05120627892755797, 0.0051221029929553585, 0.014113562909385475, 0.011841960602066588, -0.019693212664241087, 0.01935262461816386, 0.014407749949185238, 0.04286606079923258, 0.0029150963943754492, 0.0029939284050404173, 0.005682871468820199, -0.0019326820614672907, -0.00712954796453712, -0.009557140292959471, -0.016542448237982753, -0.01615074818499072, -0.001243221168192005, 0.0013911994882115886, 0.023172251134910726, 0.04515073610832008, 0.00821234411102566, 0.041839348660331496, -0.045592959168147235, -0.029678887015175768, -0.023012049113237433, 0.002205014298310377, 0.06733412910945089, 0.05669790167050465, -0.022253550010622153, -0.003818254316561224, 0.051864273016576194, -0.010987354986449323, -0.04807809250435415, 0.010237041384941439, 0.03996507540676617, 0.02963060900864437, 0.0051959495029458526, -0.09646721305078644, 0.015221277059245104, -0.036336444915858634, 0.050754976866502544, -0.03845247820213102, 0.008588306161888541, 0.12025139626848379, 0.052382983086751066, -0.02577024448638617, -0.0065315698836382954, -0.02453546231933585, -0.07881285066237584, 4.2916775806093677E-4, 0.009170502740652332, 0.025968623513224327, 0.024019113249480393, -0.00984934233249069, 0.021322001884595546, -0.0438178319279951, 0.014481495959162134, 0.06342998258126953, -0.03612006988658585, 0.010127665370144256, -0.04896906262489107, 0.03531828277811426, 0.03023128408990806, 0.025992141516406015, -0.007463429709707072, -0.02035294375349431, 0.10767936456764786, -0.003162175627802126, 0.022590178056163646, -0.025959085511933957, 0.041017969549209346, 0.0065903298915877765, -0.023210385140069772, -0.008887261202333355, 0.035038147740215554, 0.06134776829957244, -0.03111318520921806, 0.055818957551594696, 0.005615026759641673, -0.0901549021968111, 0.06382058863411356, -0.007233296978573042, -0.0805153658927045, -0.022047252982712793, 0.08679895174279371, -0.029794394030802397, 0.02670455861278698, 0.025369366432152467, -0.008292822121913313, -0.0402045194391599, -0.054121927322008094, 0.005628642461483704, -0.003452172267034981, 0.024862074363522307, 0.01681483227483285, 0.05882592595839926, 0.01096946148402856, -0.017469747363434526, 0.059610405064529304, -0.006785982918057142, 0.005765371379981387, 0.02720659568070621, -0.017181385324422812, 0.029985212056617645, 0.06642287898617033, -0.003183734830718811, 0.03841560519714257, -0.007797653454923292, 0.09094727230400869, 0.08499769149910612, 0.048508526562586404, 0.0339608745944742, 0.024863015363649613, 0.02904530992946085, 0.06427743869591956, -0.03884147525475737, 0.013094997771586571, -0.03319007249019449, 0.01382662487056641, -0.009910928340822495, 0.07687152439973911, 0.08123982099071404, -0.04287506080045017, 0.012281102661476922, 0.03547496479931134, -0.02440316930143829, -0.018810958544883332, 0.0022224517006694355, 0.005520596746866494, -0.02487015736461583, -0.03149821626130786, -0.0629255085130206, 0.050961251894408935, 0.006840654625453528, 0.01014864837298299, 0.032370068379258356, -4.305306582453198E-4, 0.0025469687445724624, 0.029751269024968132, -0.012726940721793136, 0.024896887368232066, 0.040860099527851544, 0.07947185075153018, -0.03131359423633086, 0.015181648053883804, 0.011127557505416939, -0.036460534932646435, 0.0016600705245864186, 0.001145294154943726, -0.0058951604975402035, 0.008839112195819407, 0.04043043946972401, -0.008996096717057417, -0.030316180101393413, 0.05308718218202025, 0.04861368857681348, -0.05388929329053568, -0.00984889433243008, 0.06376600862672958, -0.021317712884015298, 0.026110201532378034, 0.037587137085061374, -0.01040327440743065, 3.853362521310918E-4, -0.047961822488624295, 0.031139031212714698, -0.025834548495085683, -0.04181965265766688, -0.011341594534373426, 0.025324240426047494, -0.02000355470622642, -0.003391172458782483, -0.03614257488963049, -0.05923144201326042, 0.018990370569155497, -0.0768052143907682, -0.0017212222328594664, 0.02256912305331517, -0.0024465898309924726, -0.043214147846324324, 0.019915132694264044, 0.015461424091733943, -0.024965113377462173, -0.025726247480433933, 0.03625622490500589, -0.029223467953563363, 0.014757197496461046, 0.09027230221269383, -0.050147234784282776, -0.025086851393931776, 0.0071029439609379364, 0.015869102146887595, 0.03889006526133097, 0.03017074808171831, 0.03265795941820636, 0.046904860345630774, -0.030291802098095382, 0.024905183369354406, 0.042118752698131305, 0.0030252034092715274, 0.03455797467525425, 0.030471574122416245, 0.025917200506267446, 0.040721255509067716, 0.04132571259084307, -2.2597206057114444E-4, 0.04523763312007614, -0.008738629182225335, -0.02895243391689591, 0.06837028924963016, 0.01974438067116347, 0.04909236264157199, -0.022511970045583096, -0.016311489206736935, 0.02661316060042199, 0.03871008923698251, -0.04573845618783113, -0.051391332952593426, -0.009945164345454189, -0.01915072759084976, 0.013309694800632347, 0.005386916728781288, -0.06522855282459321, 0.017040020305297925, -0.023648736199373094, 0.023916017235532813, 0.028374988838774935, 0.008918122206508457, 0.03393587959109269, -0.03350085453223934, -0.005385618028605591, 0.016316608207429473, 0.06231107842989604, -0.08769444186394212, 0.026767018621237027, -0.006898059533219681, 0.044373209003130555, -0.024204252274527348, 0.008978521714679742, -0.045582476166729016, 0.003783019511794403, 0.03827930017870223, 0.005632829762050192, 0.03472282069755581, 0.04146069860910496, 0.04450311602070532, -0.014730143492800983, 0.03558461481414559, 0.0032633831414942143, 0.02749966672035499, 0.01963015165570974, -0.05597937157329667, -0.03294033245640783, -0.007911643070344636, 0.042599832763215315, -0.019733319669667057, -0.0072331186785489195, 0.004772905945713442, -0.015953856158353735, 0.002293356310261927, 0.03154951726824824, 0.027342660699114073, 0.021443384901017125, 0.005834469789329523, -0.017350158347255652, -0.012270761660077916, -0.01881920954599959, 0.02136127588990882, 0.042544701755756795, 0.01235557167155163, 0.022955100105532956, -0.0076377230332867405, -0.034910064722887546, -0.02220982800470712, -0.036482808935659826, -0.005848676291251481, 0.039459032338304986, 0.0017482820365203138, 0.007313560989431742, 0.03832972518552409, -0.009301364758356297, 0.002623225654889052, -0.014898274015546904, 0.05616470059836933, 0.01700826630100201, -0.007926386072339177, 0.04167269363778519, 0.029341963969594365, 0.040215751440679445, -0.004589518220903416, 0.010079128363577817, 0.05046626482744348, 0.03750010707328732, -0.004093819553841694, 0.01754734337393228, 0.01159977856930244, -0.015837407142599663, -0.0022609519058780234, 0.012785156729669022, 0.01570757212503464, 0.01906269157893961, -0.055907957563635265, 0.05433569735092846, -0.02723877868506016, 0.024683492339362432, 0.03593587986166728, 0.08283611120667181, 0.04074531251232232, 0.02351087118072171, -0.007116939462831351, -0.01784741541452821, 0.024981541379684676, 0.03328647450323645, 0.015758775131961753, 0.0319823773268087, 0.048189946519486576, 0.006319800354988572, -0.023434383170373857, 0.034531027671608656, 0.027560120728533647, 0.015229402060344314, -0.014183813918889543, 0.03910569229050257, 0.03638875992293619, -0.037906872128317455, 0.02086207182237286, 0.046282766261469356, -0.04001992541418668, -0.020166489728269454, -0.04602577422670161, -0.010279360390666662, 0.04278251378792973, -0.011684422580753698, -0.050288506803395076, 0.011618848571882369, 0.021197402867738885, 0.03492537272495853, 0.040855852527276984, 0.036962369000538196, 0.028062002796431906, 0.03054687013260284, -0.037748793106931376, 0.01876131253816686, -0.02355617018685009, -0.029705794018815943, 0.01903152257472284, -0.045412196143692296, -0.0792839257261063, 0.014848287008784296, -0.00803988308769388, -0.006115796427389436, 0.019401185624733544, -0.054397739359321955, 0.02845789484999106, 0.022398093030176983, -0.03205578133673932, 0.019658657659566238, 0.03239553138270318, 0.010991366486992027, 0.06089915023888012, -0.05733731775700951, -0.019780260676017576, 0.023509461180530954, 0.016086122176247643, 0.04723259638996928, 0.06019918314418348, 0.021805983950072157, 0.014559904969769877, -0.010777704458086273, 0.03377227456895902, 0.002153260491308745, 0.05559189252087569, -0.05313039218786601, -0.01810519244940216, 0.06982197944602538, 0.028372647838458227, 0.022363153025450045, 0.041772545651293895, 0.019974625702312693, -0.03395304959341558, 0.003947224034009186, -0.09643020304577946, 0.035890781855566094, 0.05653190264804709, 0.01860169951657325, 0.09181466242135554, 0.030833638171398906, 0.04080045551978247, 0.03996398540661871, 0.020194695732085367, -0.03203879733444161, -0.06082332222862156, 0.0394501853371081, -0.009669417308149124, 0.002473646634652914, 0.007821091058094101, 0.0213881688935471, 0.017275199337114654, -0.016099824178101352, -0.04922548265958144, -0.043070785826929275, 0.036821079981423595, -0.02644139157718383, -0.007579176825366184, 0.027354072700657973, 0.013705752854213963, 0.010580429431397472, 0.05631723261900497, -0.018605525517090857, -0.07663924036831404, -0.031501096261697496, 0.025157870403539746, 0.027117583668664014, 0.016169135187478246, 0.056169934599077424, -0.0019212734599238523, 8.960029812178023E-4, 0.06489366377928697, -0.025237153414265728, -0.041859550663064564, 0.009152927238274591, 0.058975543978640674, 0.02907538793353002, 0.01617399218813534, -0.02012561172273918, 0.0025034166386804168, 0.0014151078914460915, -0.007312200589247697, 0.02297128510772258, 0.078366660602012, 0.006791841218849695, 0.033175144488174914, 0.050702619859419304, 0.031235287225736912, 0.023074380121670023, -0.01518734655465474, -0.008390610135142786, -0.01096411198330484, -0.026610348600041564, -0.008562936658456373, 0.005326284320578494, 0.042625510766689224, -0.04619705224987334, 0.022832438088938346, -0.06176566435610846, 0.03887822225972877, -0.05714037273036535, -0.041255129581294084, -0.005000121676452839, -0.009819787328492275, -0.017926008425160844, 0.0043734322916697405, 0.0530805211811191, -0.0056436171635095905, -0.02265791306532733, -0.008457588144204059, 0.013837464872032924, -0.03657176494769444, -0.025631628467633186, -0.05434041435156661, -0.04670135231809872, 0.04480757606189489, 0.04167933563868377, 0.020822739817051742, 0.01760842738219617, 0.021389289893698756, 0.03821981117065413, -0.02136174088997173, 0.03105270420103575, 0.025456366443922462, 0.011909330611180892, 0.06965815942386261, 0.024195563273351837, 0.0030748823159924515, -0.02559069146209493, 0.055826872552665496, 0.0018494221502032841, 0.037183942030514214, 0.03303648246941571, 0.03160763227611046, -0.009664901307538167, -0.014371892944334242, -0.03133547723929135, -0.0010677667444552537, 9.01915952017752E-4, 0.025346487429057228, -0.00932010326089138, -0.02537780743329443, -0.08428275140238381, -0.020423276763009472, 0.026378169568630698, 9.04865682416813E-4, 0.04829576653380268, -0.022022614979379584, 0.074815750121619, 0.01612537218155767, 0.040438910470870025, 0.013038614763958668, -0.02895715291753433, 0.0014630523979323729, 0.026484953583077214, -0.05209957404840943, 0.04646572628622152, -0.05016177078624931, 0.08098593695636677, -0.028892544908793685, -0.015025372032741647, 0.04560291216949375, 0.050220656794215834, -0.008803765191037408, -0.006725574309884625, -0.016878097283391798, 0.053128367187592056, 0.03954675235017238, 0.019574426648170853, -0.06425171869243998, 0.012515938693247247, 0.04537430613856626, -0.017377764350990397, -0.005738841776392269, 0.016496892231819608, 0.04430969599453805, -0.018590517515060464, 0.05980074509027988, 0.025162640404185067, 0.017831892412428142, -2.827440082516666E-4, 0.032561644405176164, 0.043537592890082334, 0.050725660862536465, 0.004870155658870091, 0.0033508271533242767, -0.04367975590931518, 0.07255560381584997, 0.04939592168263967, 0.014645550981356692, -0.033148870484620375, -0.05287679715355783, 0.07740390647176362, 0.06023873414953423, 0.042709832778096916, -0.0040327885455849755, 0.018157683456503523, -0.041858475662919135, 1.1882721607581034E-4, 0.079851086802836, 0.011193153514291244, 0.0944597127791972, 0.06102104225537056, 0.005840866790194956, -0.05920137500919274, 0.02230653701779062, 0.05416879732834901, -0.017170465322945475, -0.0016730419263412842, -0.04755388843343601, -0.015313544071727657, 0.0216589859301852, 0.05795060783997985, 0.04365433190587563, -0.027312293695005804, -0.003094221618608813, 0.007105531161287953, 0.0233659461611152, 0.008633371667985331, 0.06387036364084749, 0.0077142036436335945, 0.02736085070157495, 0.027621624736854356, 0.007249158980718969, 0.050688820857552476, 0.030550795133133843, 0.023163213133688, -0.0032858997445404247, -0.019173401593917266, -0.05223419706662222, 0.01415285391470105, -0.017569265376898048, 0.01946686863361962, 0.06993868946181477, 0.0649501887869341, -0.04175822964935712, -0.02467347133800672, 0.03342631152215462, -0.06396780865403057, -0.00649524757872435, 0.011695139582203572, -0.03926071531147521, 0.02556217645823721, 0.011331750533041657, 0.038426495198615844, -0.02231463701888645, 0.055015541442902716, -0.03621428489933194, 0.04079542851910238, 0.057570513788557966, 0.045653509176338876, -0.03131338423630244, 0.037174775029274035, 0.006631233197121473, 0.040885115531235895, -0.026645623604813824, 0.03051536612834075, 0.017541886373194017, 0.06562576887833149, -0.02089882582734521, 0.015155623050362952, 0.05163862498604889, 0.025944803510001783, -0.008927611207792199, -0.03207000033866298, -0.02007135271539863, 0.058428817904675585, 0.038269681177400906, 0.007261053682328171, 0.04566972217853229, 0.07657401035948924, -0.027414336708810924};


//        final EmbeddingResponse embeddingResponse = ollamaRestClient.generateEmbeddings(new EmbeddingRequest("granite-embedding:278m", List.of("Feuerwehr Einsatzalltag und mehr! Hier auf Mastodon"), false));

        String frage = "Feuerwehr Einsatzalltag und mehr! Hier auf Mastodon";


        double[] frageArray = new double[]{0.0013352832, -0.004874728, -0.017064817, 0.044495072, 0.038772263, -0.053917028, 0.02075453, 0.055851717, 0.0142617645, -0.030675964, -0.017104365, 0.033885203, 0.034790523, 0.011536497, 0.0015749414, 0.014608994, 0.035848588, -0.020303583, -0.016397309, 0.016772646, -0.022342147, -0.004781476, -0.07203704, -0.002629297, -0.0381277, -0.0041996944, 0.010076981, 0.013055143, -0.012233388, 0.01561441, 0.030051839, 0.04981009, 0.075154595, 0.005653169, 0.00199198, 0.010166927, -0.036548212, 0.05255254, -0.054060344, -0.0120640565, -0.028031887, 0.07867377, 0.019640006, 0.095611066, -0.010534424, 0.075236075, -0.038365405, 0.0013829896, 0.03361204, 0.024055501, -0.01013635, 0.064233586, 0.017040377, 0.034226716, -0.006453323, 0.027428012, -0.03393406, 0.03638152, -0.01755368, 0.04502435, -0.02892028, -0.024613826, 0.017935283, 8.217253E-4, 0.016962228, 0.01048687, 0.007368294, -0.009072195, 0.077366784, -0.057220906, -0.02042281, -0.061004695, 0.0372669, 0.07052803, -0.046334736, 0.005529232, -0.032658935, 0.0324955, -0.020265456, -0.020048222, 0.038682055, 0.028334143, -0.009613283, 0.042616747, 0.044418756, -0.0020760573, -0.0018066961, 0.04011894, 0.05554974, 0.039146375, 0.013232485, 0.008026364, -0.030534137, -0.0050903447, -0.04665949, 0.016478276, -0.031733338, 0.059469584, 0.010214029, -0.027415266, -0.0040898374, -0.016593004, -0.003150455, -0.041214164, -0.029940993, 0.04786042, 0.020364005, -0.025334045, 0.010141123, -0.0049884054, 0.033100016, -0.022100944, 0.0021163889, 0.060678147, 0.031928636, -0.016668333, 0.05146678, -0.050428048, -0.0051514925, 0.03284707, 0.005315501, 0.035694886, 0.018531732, 0.00896517, 0.05041864, 0.014456682, -0.0014240402, -0.01909532, 0.037670754, 0.016846756, -0.061645485, -0.008310072, -0.020936983, -0.0027154437, -0.053248305, -0.051751386, -0.018886253, 0.03391016, 0.008729086, 0.0039106724, 0.067856364, -0.070154555, 0.005694879, 0.025827466, -0.032659918, -0.011850648, -0.019765403, 0.02726858, 0.046355315, -4.7835818E-4, 0.015474969, -0.04335359, 0.025232846, 0.026758993, -0.06126364, 0.029802017, -0.027966743, 0.03625112, 0.0030564817, 0.027208967, -2.6696167E-4, 0.0010102347, 0.03919586, -4.9576355E-4, 0.037209444, -0.0435099, 0.014666625, -0.011517278, 0.07225523, 0.008181836, -0.021189438, 0.04130305, -0.030403953, 0.0035108153, -0.007294324, 0.037015293, 0.04403007, 0.072890304, -0.049171157, -0.024044797, 0.036825027, 0.0023844328, -0.08172913, 0.045787837, 0.011129535, 0.053253405, 0.0319417, -0.048373997, 0.034601834, -0.03480301, 0.05668574, -0.024492413, 0.020228734, 0.11172449, 0.029168041, -0.05265103, 0.034162804, 0.009623169, -0.06453479, -0.014806927, 0.032436825, 0.017648444, 0.0217617, -0.012205835, -0.03136938, -0.024898747, -0.025139682, 0.012898168, -0.031639256, 0.041401874, 0.005339913, 0.034079935, 0.02346369, 0.0024112673, 0.022638557, 0.01594536, 0.09489009, -4.150731E-5, 0.03268678, -0.048865322, 0.06732922, 0.03383899, 0.03105774, -0.0028999408, 0.04825773, 0.007959744, 0.020828065, 0.04067623, 0.01994622, -0.014390242, 0.06745351, 0.013345004, -0.037523646, -0.03090442, 0.041588902, -0.041385215, 0.04220596, 0.04508483, -0.012885626, -0.027588446, -0.039189506, 0.023668839, -0.0010487577, 0.04618212, 0.013209866, 0.04974347, 0.009275742, -0.024401527, -0.0024926404, -0.04930067, 0.012264752, 0.040152106, 0.008652631, 0.043052923, 0.02819575, -0.007943277, 0.006034412, -0.03203031, 0.049890175, 0.066755675, 0.038769312, 0.036802668, 0.0059763542, -0.011974998, 0.019974448, 0.0049074083, -0.018155782, -0.03100785, -0.025670025, -0.0052479743, 0.08454094, 0.016421687, -0.055250555, 0.03142331, 0.02502455, -0.025047952, -0.04492724, 0.02189089, 0.04323096, 0.025218248, -0.04681673, -0.048076235, -0.013933217, 0.0263805, -0.0023827318, -9.802214E-4, 0.018156225, 0.017096441, 0.033589914, 0.009719103, -0.005333096, 0.0040894207, 0.018802794, -0.029431125, 0.056496408, 0.010375552, -0.0034673938, 0.01082934, 0.04325281, -0.022171015, 0.027860403, 0.041830815, -0.010545578, -0.014527772, 0.038449876, 0.045912143, -0.090182066, 0.044573046, 0.01661225, 0.017585067, 0.04550766, 0.047094814, 0.0020016097, -0.036054097, -2.3282466E-4, 0.02882196, -0.060114324, -0.052037314, -0.030125033, 0.061154403, -0.005292827, -0.020372674, 0.012818349, -0.05888781, 0.0052057733, -0.068003885, -0.01126367, 0.023244346, 0.037598606, -0.06416775, 0.002571438, -0.008789615, -0.05952994, -0.009919443, 0.022925263, 0.00126574, 0.0019990595, 0.05025822, -0.023492638, 0.024091095, 0.020229498, 0.033679202, 0.018236902, -0.0028789558, -0.007379209, 0.030382788, -0.036537904, 0.0067276857, 0.07488747, 0.025923416, 0.055777043, -0.0032256555, 0.003640935, 0.012270917, 0.09269337, -0.032303974, 0.05620344, -0.034582026, -0.010157912, 0.033849414, 0.035091504, 0.01491399, -0.03548108, -0.017024154, 0.03372983, 0.008231365, 0.037678808, -0.04171079, -0.030486539, -0.021708127, 0.046784345, 0.060392257, -0.05195816, 0.022443084, -0.018962976, -0.019826613, 0.0551661, 0.01629052, 0.063174285, -0.047358017, -0.013912124, 0.05186451, 0.029287241, -0.0913475, 0.014152676, -0.03181685, 0.03555654, 0.009596292, -0.0032927343, -0.021609703, 0.034646437, 0.027639119, -0.02678704, 3.5066507E-4, 0.020170895, 0.05215394, -0.05149717, 0.03557047, 0.0071115172, 0.044681516, 0.04427063, -0.006996211, 0.018905556, 0.018430457, 0.008360114, -0.030421322, -0.0045468174, -0.06127254, -0.069233745, 0.009591473, 0.009358573, 0.037832983, 0.009998754, -0.023102976, -0.030982131, -0.0079588555, -0.024778258, -0.01396091, 0.073196314, 0.02175912, 0.012945334, -0.039292354, 0.027288737, -0.0073981355, -0.047900833, 0.031195045, 0.023737727, -0.01077766, 0.015278, 0.054993954, 0.0029538828, 0.032040685, 0.027085062, 0.037638064, 0.0056832875, 0.020597132, 0.056443088, 0.031320672, 0.002401208, 0.007955957, -0.040867217, 0.04134716, 0.045065995, 0.020916773, 0.021324325, -0.044999108, -0.016796332, -0.010697562, 0.03950292, -0.01641776, 0.0062261745, -0.03257031, 0.023597967, -3.991222E-4, 0.037269603, 0.09062608, 0.086031176, 0.045611393, 0.030479051, -0.014884874, 0.026890682, 0.04206489, 0.025584605, 0.057408866, 0.027758202, 0.02532477, -0.020499391, 0.010496602, 0.04605876, 0.07039253, 0.027170826, 0.015084962, 0.024728559, 0.005381084, 0.004173112, 0.033170246, 0.02043989, -0.10643024, 0.023611076, -0.024638362, -0.025324076, -0.012360309, -0.023807826, -0.0025497228, 0.026345132, 0.020044558, 0.047712907, 0.008161701, 0.010112952, 0.004634628, 0.055442717, -0.01431214, 0.0327105, 0.030526932, -0.014293016, 0.02717255, -0.021948164, -0.103585094, -0.015352642, -0.0047880714, -0.012874032, -0.0049629984, -0.040280897, 0.026620755, 0.028785324, -0.03101057, 0.045696385, 0.0017820123, 0.048654135, 0.004507307, -0.06830905, -0.027494876, 0.039606106, 0.01140542, -0.014575759, 0.042058744, -0.0018233248, -0.014539144, 0.047277, 0.07306054, 0.02893672, 0.016317878, 0.009425579, -0.016950708, 0.020681163, 0.0015422689, -0.005488442, 0.01960515, 0.04957426, -0.039487496, 0.015328262, -0.053965162, 0.01589277, 0.041345913, 0.093762495, 0.123910844, 0.06673463, -0.009598309, 0.06322035, 0.02781062, -0.017374154, -0.041925017, 0.013895153, 0.05416317, -0.0020343987, -0.015141906, 0.012446423, 1.0511497E-4, -0.01902356, -0.019776866, -0.02800046, 0.042026654, -0.042278178, 0.006575808, 0.0057528378, -0.010749291, -0.029497689, 0.005491886, -0.0025273457, -0.019666161, -0.013843132, 0.012398175, 0.026769063, -0.03727627, 0.072646596, -0.00836554, -0.0018681216, 0.03692471, -0.014776398, -0.024684502, -0.043508388, -0.018897776, 0.006786916, 0.07189088, 9.2701364E-4, -0.0058694608, 0.04289489, 0.0041564596, 0.011796476, 0.023892649, 0.0037959118, -0.011510439, 0.021486398, 0.03264191, -7.8379764E-4, 0.016018255, -0.021283686, -0.016733075, -0.0067192446, -0.038007718, 0.081782706, 0.040634047, -0.047614288, 0.0077152047, -0.040356982, 0.047391962, 0.03497598, -0.025919352, 0.03933234, 0.028466485, -0.001076217, 0.039501265, 0.06420464, 0.017225875, -0.011024889, 0.015070848, -0.01274342, -0.010505394, -0.023801576, -0.059257243, -0.049639165, 0.022688905, 0.01443452, 0.033113215, 0.013212069, 0.044667765, 0.048436273, 0.057149336, 0.024408245, 0.01925313, 0.004973542, 0.050156675, 0.055115707, 6.820185E-4, -0.040381122, -0.021327019, -0.0058036135, 0.11147496, 0.0012358172, 0.009106961, 0.056434106, -0.0331179, -0.038148507, 0.00196589, 0.009325172, 0.041364275, 0.00462002, -0.0081641935, -0.086082265, 0.004871377, 0.022289481, -0.0030152013, 0.046004247, 0.04859094, 0.084147625, 0.03131519, 0.022541124, 0.031918626, -0.023708358, 0.003179197, -0.01784517, -0.06151041, 0.07916716, -0.016825361, 0.058897614, -0.009433577, -0.02465056, 0.011090459, 0.056730825, -0.020199427, 0.023160188, -0.007987217, 0.050403874, 0.04595024, 0.05843943, -0.0056087, -0.015445427, 0.06299806, -0.02129845, 0.004179644, 0.010331875, 0.019126061, -0.011440131, -0.0043371543, 0.011150255, 0.015900237, 0.037880216, 0.03866076, 0.038563248, 0.072742395, 0.038975883, 0.008314802, -0.040244453, 0.047573823, 0.028126044, 3.8857767E-4, 0.0060902243, 0.0027180347, 0.049213428, 0.03209459, 0.012712922, -0.027650276, 0.017435875, -0.034779184, 0.0058749104, 0.08026347, 0.035927, 0.022222452, 0.02275785, 0.013069053, -0.019807817, 0.029642297, 0.08557629, -0.040290833, -0.031537436, -0.038374346, -0.022306569, 0.04519401, -0.0037268582, 0.012517356, -0.05127158, -0.0037195387, 0.015472475, 0.045599293, 0.014053826, 0.03768198, -0.015081509, 0.027318262, 0.06793045, -0.0019697545, 0.06461277, 0.011946919, -0.04965729, 0.029489828, 6.527902E-4, -0.0018183619, -0.031122327, -0.034563646, 0.017502189, 0.06775647, 0.056052502, -0.019036992, 0.0069282735, 0.026222158, -0.05735205, 0.01189779, 0.01318165, -0.01671209, -0.026499351, -0.0760483, -0.017183455, -0.059593707, 0.0018769444, -0.0024998947, 0.019108439, 0.038508404, 0.023615424, -0.033683997, 0.025927449, -0.028262837, 0.002997458, -0.053166214, 0.044693585, 0.0028258807, 0.08665039, 0.01186722, 0.025386617, 0.070223704, 0.0062186103, -0.057494856, 0.060792003, 0.0057809316, 0.029602673, 0.024218416, -0.029009242, 0.06407074, 0.053997174, -0.021826731};


        double[] frage2Array = new double[]{0.0049205734, -0.007434861, 0.0049196715, 0.07162049, 0.052418984, -0.048002087, 0.036427964, 0.06536822, 0.029186942, 0.022691553, 0.01695551, 0.023034265, 0.025877478, 0.0051294356, -0.017579185, 0.06559661, 0.04506445, -0.0133333, -0.0015383074, 0.004374353, -0.018904394, 4.5090588E-4, -0.058193013, -0.004733276, 0.03274677, -0.024553854, -0.012947778, 0.01497003, -0.04009446, 5.6462985E-4, 0.042651385, 0.06344766, 0.038034663, -0.007256123, 0.0076292856, 0.007399087, -0.024479333, 0.034863546, -0.016202623, -0.019170146, -0.04340329, 0.06343456, 0.03769363, 0.03969193, 0.019687291, 0.06525581, -0.026111303, -9.702562E-4, 0.016001703, 0.016624482, -0.06350873, 0.04295971, 0.02027451, 0.008661392, 0.016961029, 0.047480524, -0.0072785257, 0.08638504, -0.05794368, 0.0529122, -0.0036983313, -0.029353565, 0.0067198286, -0.025388082, -0.009914819, 0.0137798, 0.021876385, -0.021437945, 0.053751845, -0.03018335, -0.03716226, -0.016328108, 0.063387774, 0.065349676, -0.04711437, -0.0027689957, -0.034446195, 0.027157327, -0.0108647365, -0.028719114, -0.029355768, 0.035197273, -0.0071299737, 0.018100288, 0.06262727, -0.024005549, 0.053571805, 0.012064473, 0.013742951, 0.008903975, 0.05206324, 0.03193392, -0.02918254, -0.0025030132, 0.015701305, 0.02659019, -0.003967656, 0.042860094, 0.06534119, -0.03406559, 0.013288951, 0.015470417, 0.0143009825, -0.0564537, 0.0055111446, 0.08205471, 0.027725438, -0.024062756, 0.0040752133, 0.0200228, 0.0096492255, -0.011879329, 0.0020513264, 0.052091636, 0.01673688, 0.0021227507, 0.035919245, -0.052929863, -0.021895397, 0.03554762, 0.025897278, 0.047634363, 0.025660733, -0.0015309697, 0.040380396, -0.014700906, 0.02761164, 0.013614061, 0.03322879, 0.0074045737, -0.022705318, -0.049163073, -0.028973253, 0.013507992, -0.026916482, -0.045396753, -0.021798788, -0.006309605, 0.0038436293, -0.022964561, 0.040792953, -0.064077005, -0.017143758, 0.06322095, 0.023428485, 0.028348746, -0.061850477, -0.011918511, 0.014939409, 0.017190851, 0.050182797, 0.0056762253, 0.020810828, 0.009398166, -0.0113258, 0.008100964, 0.002315779, 0.032876983, -0.010680935, 0.0013358823, 0.015507173, -0.0052703526, -0.00896567, -0.0050753527, -0.017107096, -0.009603984, -0.008350079, 0.010595367, 0.029289335, 0.04743118, 0.006921634, 0.034472775, -0.04422695, -0.02674148, -0.024909398, -0.0030521094, 0.07957984, 0.055345375, -0.028105756, -0.0074607623, 0.045718476, -0.014326349, -0.048677523, -0.0031423771, 0.03383015, 0.03408631, -0.005751649, -0.09251708, 0.012261728, -0.028115366, 0.05787908, -0.03806817, 0.01087621, 0.12801307, 0.041653052, -0.03969075, -1.9479997E-4, -0.026195612, -0.08211197, 0.011775148, -3.211725E-4, 0.025036167, 0.016465154, -0.010597064, 0.020590538, -0.030369943, 0.02007558, 0.058087066, -0.039741214, 0.017527562, -0.04118598, 0.04414642, 0.018109426, 0.021372944, -0.009806715, -0.012235266, 0.09512233, -8.1726794E-5, 0.013619047, -0.027722878, 0.056900315, 0.0030687626, -0.0029650414, -0.0034566899, 0.025217937, 0.0751614, -0.03138752, 0.057245508, -3.0615163E-4, -0.086297214, 0.0620708, -0.0016783341, -0.0841161, -0.021397486, 0.08081206, -0.04818046, 0.023789158, 0.02534478, -0.018920345, -0.037006713, -0.034849357, 0.0033660047, -0.0012201425, 0.024710499, 0.009818541, 0.058750894, 0.012177787, -0.016746113, 0.043661945, -0.0160705, -0.0064875665, 0.030492129, -0.0077183787, 0.03449627, 0.059901554, 0.0020139227, 0.031089269, -0.013492237, 0.09403777, 0.07724611, 0.05621631, 0.042020407, 0.02151311, 0.028684206, 0.05658196, -0.031153997, 0.0076634656, -0.035292268, 0.014621348, -0.003907878, 0.058687143, 0.07819829, -0.048456166, 0.018587625, 0.022907266, -0.023930168, -0.022533959, -9.298747E-4, 0.013253158, -0.024414806, -0.035258286, -0.057084586, 0.047992878, 0.0071940874, 0.0049936394, 0.035670478, 0.006696351, -0.0041032946, 0.024080591, -0.0038095296, 0.018495757, 0.03168184, 0.07660787, -0.04242843, 0.006598624, 0.010602953, -0.037668962, 0.0050329636, -0.007993725, -0.009957949, 0.0019175939, 0.038895, -0.0029235738, -0.023030864, 0.059007417, 0.05724796, -0.06518916, -0.0035324325, 0.051301185, -0.01988868, 0.038663995, 0.034342796, -0.008356562, -0.0025819805, -0.041512046, 0.021175807, -0.018702192, -0.042633224, -0.014105282, 0.024484148, -0.015569786, -0.005883694, -0.023777561, -0.047473494, 0.005561622, -0.0866543, 0.0023357542, 0.029655082, -0.013710405, -0.04299456, 0.015292769, 0.01598748, -0.017245278, -0.039040994, 0.02640296, -0.028728308, 0.0063122204, 0.08685114, -0.04617276, -0.014159893, 0.0063633956, 0.02421757, 0.043407064, 0.023540976, 0.040077318, 0.057783753, -0.010576847, 0.028982868, 0.040470142, 0.007116713, 0.033398252, 0.037096106, 0.02024109, 0.032946568, 0.04465092, 0.0069407364, 0.0446599, -0.008974475, -0.019726643, 0.057981834, 0.028407462, 0.04592754, -0.0102546755, -0.0094534615, 0.02241589, 0.036732823, -0.04609744, -0.05775847, -0.0050767157, -0.016155314, 0.019076731, 0.009020304, -0.060955778, 0.019224524, -0.026868569, 0.02285693, 0.03307677, 0.015338426, 0.03937527, -0.037967425, -0.013043361, 0.022815442, 0.063194446, -0.098987535, 0.02564874, -0.007212492, 0.04912426, -0.019011475, -0.0054413974, -0.031907894, 0.014238294, 0.042969193, 0.018289683, 0.03372998, 0.033686776, 0.056404296, -0.018682986, 0.038960457, 0.012585821, 0.025774881, 0.035161898, -0.06200681, -0.027702989, -0.007922869, 0.028290741, -0.028412966, 0.0027653645, 0.0028242401, -0.017463945, 5.844774E-4, 0.036298122, 0.02558095, 0.04184191, 0.015782014, -0.020103969, -0.0018383772, -0.020375257, 0.008588946, 0.06071133, 0.013332192, 0.029769814, -0.02143842, -0.03118631, -0.025479537, -0.038254365, -0.0011780162, 0.03548022, 0.003146784, 0.01808463, 0.042060107, -0.016181989, 0.018751603, -0.01308292, 0.05302148, 0.004012125, -0.0057476186, 0.04665534, 0.018557932, 0.04452786, 0.0021314712, 0.011784222, 0.053013332, 0.042094376, -0.00866009, 0.015738593, 0.0030193655, -0.025845034, 0.0022247627, 0.0021837591, 0.019776253, 0.020679094, -0.046449933, 0.055028737, -0.025809, 0.030267531, 0.046965282, 0.08999972, 0.040087212, 0.024990376, -0.010507007, -0.01746277, 0.021141687, 0.038851332, 0.021664703, 0.043067463, 0.035313006, 0.01796164, -0.021495707, 0.0442085, 0.03790555, 0.012641196, -0.0026964946, 0.047963995, 0.025025401, -0.03220754, 0.015756436, 0.052489176, -0.04940433, -9.64379E-4, -0.048728887, 0.0052917046, 0.037705578, -0.009322911, -0.04726277, 0.0029807147, 0.016844457, 0.031260096, 0.026877536, 0.031599864, 0.02851413, 0.030397777, -0.032647934, -3.644779E-4, -0.032689627, -0.036531195, 0.028500395, -0.046903912, -0.09179934, -0.0023592005, -0.0107584065, -0.008895563, 0.02377596, -0.0477153, 0.023654182, 0.021960935, -0.040435668, 0.01317667, 0.025872814, -0.006167305, 0.058029994, -0.0657344, -0.019261057, 0.021771258, 0.007983659, 0.041236818, 0.06363028, 0.015447759, 0.0012185604, -0.003378513, 0.035222508, 0.008970715, 0.039260313, -0.05181798, -0.016823364, 0.07291991, 0.017499072, 0.01839645, 0.05612867, 0.029482339, -0.031521518, 0.004696395, -0.086214535, 0.036338624, 0.06234316, 0.020946104, 0.106622234, 0.050837766, 0.03250841, 0.033194594, 0.008801074, -0.027994152, -0.061353125, 0.032741614, -0.004472906, 0.0018802041, 0.006000951, 0.016132386, 0.015486407, -0.017269522, -0.036416493, -0.03849442, 0.042158253, -0.024398526, -0.0060762605, 0.03764893, 0.0018620583, 0.008851687, 0.046900965, -0.022707412, -0.0696819, -0.016110955, 0.022442764, 0.032072768, 0.011728583, 0.061856743, 0.0045523937, 6.7651103E-4, 0.06428646, -0.02471926, -0.03763963, 0.007934766, 0.059983514, 0.021747313, 0.024799097, -0.02075601, -0.010004605, 0.0027196272, 0.008344579, 0.04146318, 0.07902382, -0.0013689641, 0.042263515, 0.06353571, 0.03993982, 0.025250366, -0.009030669, -0.0033355516, -0.009695223, -0.035165742, -0.01695673, 0.007317119, 0.043328945, -0.04590619, 0.027957741, -0.06096958, 0.040176902, -0.053842057, -0.025912696, -0.002463178, -0.021416664, -0.027919507, 0.005692384, 0.060715113, -0.0040951255, -0.011819469, -0.004544242, 0.013114241, -0.01811586, -0.019496957, -0.07502658, -0.03971142, 0.046126198, 0.048110984, 0.017056525, 0.0050919233, 0.018966457, 0.03047056, -0.014358243, 0.029408721, 0.020632755, 0.0065323347, 0.06383123, 0.015013695, -0.007061763, -0.030654283, 0.04935055, 0.013856131, 0.05620194, 0.041292395, 0.02561374, -2.1490008E-5, -0.012260327, -0.0398278, 0.008644493, -0.0014811944, 0.024954362, -0.007864268, -0.014247349, -0.08388857, -0.03299376, 0.026292488, 0.0049356315, 0.061050165, -0.015363928, 0.061013456, 0.027131999, 0.03583802, 0.010269814, -0.03527741, 0.0050748843, 0.026643414, -0.057094082, 0.03815571, -0.04705967, 0.07613144, -0.038259804, -0.017713306, 0.045005634, 0.05466075, -0.014561238, -0.009024991, -0.0033076343, 0.06064059, 0.039020125, 0.01424075, -0.06814159, 0.02027266, 0.048728712, -0.018175794, -0.014117542, 0.008448809, 0.04119138, -0.030768367, 0.051822625, 0.009932843, 0.01429629, 0.004561531, 0.03032938, 0.0378384, 0.05015599, 0.0023833276, 0.012179562, -0.04105615, 0.061370566, 0.049519576, 0.02765547, -0.048200816, -0.054508038, 0.067500815, 0.05178266, 0.0396904, -0.011229808, 0.011423875, -0.035665378, 0.015155685, 0.08364032, 0.023033991, 0.08510271, 0.06972216, 0.011629195, -0.06253494, 0.017492525, 0.07070537, -0.023041936, -0.008567735, -0.047640137, -0.0043245396, 0.021637699, 0.05111445, 0.035457317, -0.025878865, -0.0051421053, -0.002470181, 0.0227215, 0.009778319, 0.0583597, -0.0026945716, 0.026087511, 0.038585205, 0.0056780847, 0.04815956, 0.033331715, 0.022742331, 0.010319743, -0.014652215, -0.043679066, 0.0028199432, -0.013307822, 0.03906661, 0.066791765, 0.064308226, -0.048584804, -0.021623341, 0.030725442, -0.060303196, -0.009838953, 0.019736396, -0.040219847, 0.03388537, 0.009211543, 0.032783, -0.03407892, 0.06396956, -0.021270284, 0.04701863, 0.054577865, 0.052898683, -0.03503583, 0.031832553, 0.009057236, 0.030708844, -0.04054287, 0.027965453, 0.026697064, 0.060787953, -0.021501536, 0.012018803, 0.04692871, 0.02619032, -0.015488454, -0.033757396, -0.017175367, 0.049058247, 0.046866845, -0.008184493, 0.06316958, 0.08135815, -0.027761424};

        final double cosineSimilarity = getCosineSimilarity(vector1, frage2Array);
        final double cosineSimilarity1 = getCosineSimilarity(vector2, frage2Array);


        System.out.println("√Ñhnlichkeit zu Frage 1: " + cosineSimilarity);
        System.out.println("√Ñhnlichkeit zu Frage 2: " + cosineSimilarity1);

        final double[] profileVector = StarredMastodonPosts.createProfileVector(List.of(vector1, vector2));
        System.out.println("Profilevektor: " + getCosineSimilarity(profileVector, frage2Array));

        System.out.println("Profilevektor (Frage Feuerwehr): " + getCosineSimilarity(profileVector, frageArray));

    }

    @Test
    public void testMultiModel() {
        List<String> models = List.of("granite-embedding:278m", "jina/jina-embeddings-v2-base-de", "nomic-embed-text:v1.5", "mxbai-embed-large:335m" ,"bge-m3:567m", "all-minilm:33m", "snowflake-arctic-embed:335m", "bge-large:335m", "snowflake-arctic-embed2:568m", "paraphrase-multilingual:278m");


        for (String model : models) {

            final EmbeddingResponse response1 = ollamaRestClient.generateEmbeddings(new EmbeddingRequest(model, List.of(text1), false));

            final double[] vector1 = response1.embeddings().getFirst().stream().mapToDouble(Double::doubleValue).toArray();

            final EmbeddingResponse response2 = ollamaRestClient.generateEmbeddings(new EmbeddingRequest(model, List.of(text2), false));

            final double[] vector2 = response2.embeddings().getFirst().stream().mapToDouble(Double::doubleValue).toArray();


            final EmbeddingResponse frageResponse1 = ollamaRestClient.generateEmbeddings(new EmbeddingRequest(model, List.of("Feuerwehr Einsatzalltag und mehr! Hier auf Mastodon"), false));

            final double[] f1 = frageResponse1.embeddings().getFirst().stream().mapToDouble(Double::doubleValue).toArray();


            final EmbeddingResponse frageResponse2 = ollamaRestClient.generateEmbeddings(new EmbeddingRequest(model, List.of(frage2), false));
            final double[] f2 = frageResponse2.embeddings().getFirst().stream().mapToDouble(Double::doubleValue).toArray();

            System.out.println("###### " + model + " ###### ");
            final double cosineSimilarity = getCosineSimilarity(vector1, f2);
            final double cosineSimilarity1 = getCosineSimilarity(vector2, f2);


            System.out.println("√Ñhnlichkeit zu Frage 1: " + cosineSimilarity);
            System.out.println("√Ñhnlichkeit zu Frage 2: " + cosineSimilarity1);

            final double[] profileVector = StarredMastodonPosts.createProfileVector(List.of(vector1, vector2));
            System.out.println("Profilevektor: " + getCosineSimilarity(profileVector, f2));

            System.out.println("Profilevektor (Frage Feuerwehr): " + getCosineSimilarity(profileVector, f1));

            System.out.println("#################################### ");
        }


    }


    @Test
    public void testMultiModel2() {
        List<String> models = List.of("granite-embedding:278m", "jina/jina-embeddings-v2-base-de", "nomic-embed-text:v1.5", "mxbai-embed-large:335m" ,"bge-m3:567m", "all-minilm:33m", "snowflake-arctic-embed:335m", "bge-large:335m", "snowflake-arctic-embed2:568m", "paraphrase-multilingual:278m");


        final List<Embedding> embeddings = Embedding.<Embedding>findAll().list().stream().filter(embedding -> embedding.getEmbedding() != null).toList();

        double[] gemini = null;
        for (Embedding embedding : embeddings) {
            if(gemini == null){
                gemini = embedding.getEmbedding();
            }else{
                gemini = StarredMastodonPosts.createProfileVector(List.of(gemini, embedding.getEmbedding()));
            }
        }
        Map<String, String> geminiMap = new HashMap<>();

        geminiMap.put("test", "Moderne KI Systeme k√∂nnen mehrere Millionen Anfragen parallel durchf√ºhren, ben√∂tigen aber extrem viel Strom.");
        final ContentEmbedding test = generateEmbeddingTextInput.getEmbedding("gemini-embedding-001", geminiMap).get("test");

        final double[] array1 = test.values().get().stream().mapToDouble(Float::doubleValue).toArray();

        System.out.println("###### " + "gemini-embedding-001" + " ###### ");

        System.out.println("Profilevektor: " + getCosineSimilarity(gemini, array1));


        System.out.println("#################################### ");


        for (String model : models) {
            long start = System.currentTimeMillis();

            double[] vektor = null;

            for (Embedding embedding : embeddings) {

                final String text = embedding.getText();
                final List<String> texte = StarredMastodonPosts.splitByLength(text, 500);

                for (String values : texte) {
                    final EmbeddingResponse response1 = ollamaRestClient.generateEmbeddings(new EmbeddingRequest(model, List.of(values), false));
                    final double[] array = response1.embeddings().getFirst().stream().mapToDouble(Double::doubleValue).toArray();
                    if(vektor == null){

                        vektor = array;
                    }else{
                        vektor = StarredMastodonPosts.createProfileVector(List.of(vektor, array));
                    }
                }





            }


            final EmbeddingResponse response1 = ollamaRestClient.generateEmbeddings(new EmbeddingRequest(model, List.of("Moderne KI Systeme k√∂nnen mehrere Millionen Anfragen parallel durchf√ºhren, ben√∂tigen aber extrem viel Strom."), false));

            final double[] compareArray = response1.embeddings().getFirst().stream().mapToDouble(Double::doubleValue).toArray();


            long end = System.currentTimeMillis();

            System.out.println("###### " + model + " ###### ");

            System.out.println("Profilevektor: " + getCosineSimilarity(vektor, compareArray));

            System.out.println("Berechnungsdauer: " + (end - start) + "ms");

            System.out.println("#################################### ");
        }


    }
}
